---
// Import the necessary dependencies
import { Image } from "astro:assets";
import IconBlock from "@components/ui/blocks/IconBlock.astro";
import Icon from "@components/ui/icons/Icon.astro";
import driverImage from "@images/about/driver.jpg";

interface Feature {
  heading: string;
  content: string;
  svg: string;
}

interface Props {
  title?: string;
  subTitle?: string;
  features?: Feature[];
}
// Define props from Astro
const { title, subTitle, features } = Astro.props;
---

<section
  class="mx-auto max-w-[85rem] px-4 py-3 sm:px-6 lg:px-8 lg:py-4 2xl:max-w-full"
>

  <!-- Displaying the main content consisting of title, subtitle, and several `IconBlock` components -->
  <div class="mt-2 grid gap-6 lg:mt-8 lg:grid-cols-12 lg:gap-8 text-left">
    <!-- Columna izquierda con la imagen del conductor (reducida) -->
    <div class="lg:col-span-3">
      <!-- Imagen del conductor -->
      <div class="relative rounded-xl overflow-hidden shadow-xl shadow-black/30 dark:shadow-xl dark:shadow-black/30 max-w-[300px] mx-auto lg:max-w-[350px]">
        <!-- Borde interior decorativo -->
        <div class="absolute inset-4 border border-white/20 rounded-xl z-10 pointer-events-none"></div>
        
        <!-- Elementos decorativos en las esquinas -->
        <div class="absolute top-3 left-3 w-8 h-8 border-t-2 border-l-2 border-white/40 rounded-tl-lg z-10 pointer-events-none"></div>
        <div class="absolute top-3 right-3 w-8 h-8 border-t-2 border-r-2 border-white/40 rounded-tr-lg z-10 pointer-events-none"></div>
        <div class="absolute bottom-3 left-3 w-8 h-8 border-b-2 border-l-2 border-white/40 rounded-bl-lg z-10 pointer-events-none"></div>
        <div class="absolute bottom-3 right-3 w-8 h-8 border-b-2 border-r-2 border-white/40 rounded-br-lg z-10 pointer-events-none"></div>
        
        <!-- Overlay muy ligero para mantener legibilidad -->
        <div class="absolute inset-0 bg-neutral-900/10 dark:bg-neutral-900/20 z-5"></div>
        
        <Image
          src={driverImage}
          alt="Conductor profesional de camiones"
          class="w-full h-full object-cover"
          draggable={"false"}
          format={"avif"}
          loading={"eager"}
          width={500}
          height={650}
        />
      </div>
    </div>

    <!-- Columna derecha con el título, subtítulo y los bloques de características -->
    <div class="lg:col-span-9">
      <!-- Rendering title -->
      <h2
        class="text-balance text-2xl font-bold text-neutral-800 dark:text-neutral-200 md:text-3xl"
      >
        {title}
      </h2>
      <!-- Rendering subtitle -->
      {
        subTitle && (
          <p class="mt-2 text-pretty text-neutral-600 dark:text-neutral-400 md:mt-4 mb-8">
            {subTitle}
          </p>
        )
      }
      
      <!-- Bloques de características en dos columnas -->
      <div class="grid gap-8 sm:grid-cols-2 md:gap-12">
        <!-- Injecting IconBlock components with different properties -->
        { features &&
          features.map((feature) => (
            <IconBlock heading={feature.heading} content={feature.content}>
              <Icon name={feature.svg} />
            </IconBlock>
          ))
        }
      </div>
    </div>
  </div>
</section>
